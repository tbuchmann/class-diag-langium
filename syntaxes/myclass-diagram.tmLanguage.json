{
  "name": "class-diagram",
  "scopeName": "source.class-diagram",
  "fileTypes": [".cdiag"],
  "patterns": [
    { "include": "#comments" },
    { "include": "#impl-block" },
    { "include": "#keywords" },
    { "include": "#types" },
    { "include": "#strings" }
  ],
  "repository": {
    "keywords": {
      "name": "keyword.control.class-diagram",
      "match": "\\b(abstract|assoc|class|composite|datatype|enum|extends|impl|implements|interface|none|package|primitive|private|protected|public|shared|spec|static|x)\\b"
    },
    "impl-block": {
      "begin": "\\b(impl)\\s+([a-zA-Z]+)\\s+<<",
      "beginCaptures": {
        "1": { "name": "keyword.control.class-diagram" },
        "2": { "name": "entity.name.type.class-diagram" }
      },
      "end": ">>",
      "patterns": [
        { "include": "source.java" },
        { "include": "source.python" }
      ]
    },
    "types": {
      "patterns": [
          {
              "match": "(?<=:)\\s*([a-zA-Z_][a-zA-Z0-9_]*)",
              "captures": {
                  "1": { "name": "entity.name.type.class-diagram" }
              }
          },
          {
              "match": "\\b(String|Integer|Boolean|Float|Decimal|void)\\b",
              "name": "support.type.primitive.class-diagram"
          }
      ]
    },
    "comments": {
      "patterns": [
        {
          "name": "comment.block.class-diagram",
          "begin": "/\\*",
          "end": "\\*/"
        },
        {
          "name": "comment.line.class-diagram",
          "match": "//.*"
        }
      ]
    },
    "strings": {
      "name": "string.quoted.double.class-diagram",
      "begin": "\"",
      "end": "\"",
      "patterns": [
        { "match": "\\\\.", "name": "constant.character.escape.class-diagram" }
      ]
    }
  }
}